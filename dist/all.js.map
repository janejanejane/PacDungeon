{"version":3,"sources":["AIStrategy.js","Cell.js","DungeonGenerator.js","Grave.js","MonsterAI.js","Pacman.js","boot.js","game.js","main.js","menu.js","preloader.js"],"names":[],"mappings":"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","file":"all.js","sourcesContent":["(function(){\n  'use strict';\n\n  var ns = window['pacdungeon'];\n\n  function AIStrategy(pacman, ghost, safetile, opposites){\n    this.pacman = pacman;\n    this.ghost = ghost;\n    this.safetile = safetile;\n    this.opposites = opposites;\n  }\n\n  function doShadow(directions, current){\n    /*jshint validthis:true */\n\n    var pacmanPos = this.pacman.getGridPosition();\n    var t = 0;\n    var min = 1000;\n    var nextDirection = Phaser.NONE;\n    //stalks pacman everywhere\n    for(t = 5; t > 0; t--){\n      if(!directions[t]){\n        continue;\n      }\n      if(t === this.opposites[current]){\n        //ghost can't move back yo\n        continue;\n      }\n\n      if(directions[t].index === this.safetile ||\n        directions[t].index === ns.DungeonGenerator.TOPWALL ||\n        directions[t].index === ns.DungeonGenerator.RIGHTWALL ||\n        directions[t].index === ns.DungeonGenerator.BOTTOMWALL ||\n        directions[t].index === ns.DungeonGenerator.LEFTWALL){\n\n        if(!this.isAtEdge(directions[t].index)){\n          //which of the directions is closer to the pacman?\n          var distance = Phaser.Math.distance(pacmanPos.x, pacmanPos.y, directions[t].x, directions[t].y);\n          if(distance < min){\n            nextDirection = t;\n            min = distance;\n          }\n        }\n\n      }\n    }\n    return nextDirection;\n  }\n\n  function doSpeedy(directions, current){\n    /*jshint validthis:true */\n    //get where pacman is facing\n    var pacmanPos = this.pacman.getForwardPosition(4);\n    var t = 0;\n    var min = 1000;\n    var nextDirection = Phaser.NONE;\n\n    //look forward four squares\n    for(t = 1; t < 5; t++){\n      if(!directions[t]){\n        continue;\n      }\n      if(t === this.opposites[current]){\n        //ghost can't move back yo\n        continue;\n      }\n\n      if(directions[t].index === this.safetile ||\n        directions[t].index === ns.DungeonGenerator.TOPWALL ||\n        directions[t].index === ns.DungeonGenerator.RIGHTWALL ||\n        directions[t].index === ns.DungeonGenerator.BOTTOMWALL ||\n        directions[t].index === ns.DungeonGenerator.LEFTWALL){\n\n        if(!this.isAtEdge(directions[t].index)){\n          //which of the directions is closer to the pacman?\n          var distance = Phaser.Math.distance(pacmanPos.x, pacmanPos.y, directions[t].x, directions[t].y);\n          if(distance < min){\n            nextDirection = t;\n            min = distance;\n          }\n        }\n      }\n    }\n\n    return nextDirection;\n  }\n\n  function doBashful(directions, current){\n    /*jshint validthis:true */\n\n    //two tiles forward, but consider shadow's position\n    for(var t = 1; t < 5; t++){\n      if(!directions[t]){\n        continue;\n      }\n      if(t === this.opposites[current]){\n        //ghost can't move back yo\n        continue;\n      }\n\n      if(directions[t].index === this.safetile){\n        break;\n      }\n    }\n    return t;\n  }\n\n  function doPokey(directions, current){\n    /*jshint validthis:true */\n\n    //if far away from pacman, be like blinky\n    //if close, scatter mode\n    for(var t = 1; t < 5; t++){\n      if(!directions[t]){\n        continue;\n      }\n      if(t === this.opposites[current]){\n        //ghost can't move back yo\n        continue;\n      }\n\n      if(directions[t].index === this.safetile){\n        break;\n      }\n    }\n    return t;\n  }\n\n  AIStrategy.prototype.setStrategy = function(strategy){\n    switch(strategy){\n      case 'shadow':\n        this.getNextDirection = doShadow;\n        break;\n      case 'speedy':\n        this.getNextDirection = doSpeedy;\n        break;\n      case 'bashful':\n        this.getNextDirection = doBashful;\n        break;\n      case 'pokey':\n        this.getNextDirection = doPokey;\n        break;\n    }\n  };\n\n  AIStrategy.prototype.isAtEdge = function(tile){\n    if(tile === ns.DungeonGenerator.TOPWALL){\n\n      return this.ghost.forwardMarker.y === 1;\n    }else if(tile === ns.DungeonGenerator.RIGHTWALL){\n      console.log('Ghost Marker: ', this.ghost.forwardMarker.x, this.ghost.forwardMarker.x === 38);\n      return this.ghost.forwardMarker.x === 28;\n    }else if(tile === ns.DungeonGenerator.BOTTOMWALL){\n      return this.ghost.forwardMarker.y === 28;\n    }else if(tile === ns.DungeonGenerator.LEFTWALL){\n      return this.ghost.forwardMarker.x === 1;\n    }\n\n    return false;\n\n  };\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].AIStrategy = AIStrategy;\n}());\n","(function(){\n  'use strict';\n\n  function Cell(x,y,data, timerContainer, main){\n    this.level = 0;\n\n    this.x = x;\n    this.y = y;\n    this.data = data;\n    this.main = main;\n    this.timerContainer = timerContainer;\n\n    this.dots = [];\n    var pos = main.toWorldPosition(this.x, this.y, 0, 0);\n    this.countdown = new Phaser.BitmapText(main.game, pos.x,pos.y, 'minecraftia', '0');\n    timerContainer.add(this.countdown);\n\n    this.CELLREFRESHTIME = 3000;\n    this.cellRefresh = -1;\n  }\n\n  Cell.prototype.isCleared = function(){\n    for(var i in this.dots){\n      if(this.dots[i].alive){\n        return false;\n      }\n    }\n\n    this.cellRefresh = this.CELLREFRESHTIME;\n    return true;\n  };\n\n  Cell.prototype.revive = function(){\n    var dotIndex = 0;\n\n    //foreach safetile\n    for(var i = 0; i < this.data.length; i++){\n      for(var j = 0; j < this.data[i].length; j++){\n        if(this.data[i][j] === 7){\n          this.data[i][j] = 14;\n          var dot = this.dots[dotIndex];\n          if(!dot){\n            dot = this.main.createDot();\n            this.dots.push(dot);\n          }\n          var pos = this.main.toWorldPosition(this.x, this.y, i, j);\n\n          dot.revive();\n          dotIndex++;\n          dot.x = pos.x - 3;\n          dot.y = pos.y - 3;\n        }\n      }\n    }\n      //get dot\n      //if ran out of dots\n        //create a dot\n      //put dot on safetile location\n\n\n\n    // for(var i = 0; i < this.dots.length; i++){\n    //   this.dots[i].revive();\n    // }\n  };\n\n  Cell.prototype.nextLevel = function(){\n    //load a different level data\n    this.level++;\n    this.data = this.main.DungeonGenerator.loadLevel(this.level);\n    this.revive(); //check where '7' is, and revive our dot sprites there\n\n    this.main.createCellData(this.x, this.y, this.data);\n    this.main.doShakeScreen();\n  };\n\n  Cell.prototype.update = function(time){\n    if(this.cellRefresh < 0){\n      return;\n    }\n\n    this.cellRefresh -= time.elapsed;\n    if(this.cellRefresh > 0){\n      this.countdown.text = Math.round(this.cellRefresh/1000);\n    }else if(this.cellRefresh < 0){\n      this.nextLevel();\n    }\n  };\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].Cell = Cell;\n}());\n","(function(){\n  'use strict';\n\n  function DungeonGenerator(size, tilemap){\n    this.tilemap = tilemap;\n    console.log('tilemap?', tilemap);\n    this.size = size || 10;\n    this.TOPLEFTCORNER = 1;\n    this.TOPWALL = 2;\n    this.TOPRIGHTCORNER = 5;\n    this.LEFTWALL = 6;\n    this.RIGHTWALL = 10;\n    this.BOTTOMLEFTCORNER = 20;\n    this.BOTTOMRIGHTCORNER = 24;\n    this.BOTTOMWALL = 21;\n    this.SAFE = 14;\n    // this is a comment\n  }\n\n  DungeonGenerator.TOPLEFTCORNER = 1;\n  DungeonGenerator.TOPWALL = 2;\n  DungeonGenerator.TOPRIGHTCORNER = 5;\n  DungeonGenerator.LEFTWALL = 6;\n  DungeonGenerator.RIGHTWALL = 10;\n  DungeonGenerator.BOTTOMLEFTCORNER = 20;\n  DungeonGenerator.BOTTOMRIGHTCORNER = 24;\n  DungeonGenerator.BOTTOMWALL = 21;\n\n\n  DungeonGenerator.prototype = {\n      createSquare : function(){\n          var data = [];\n          for(var i = 0; i < this.size; i++){\n            data.push([]);\n            for(var j = 0; j < this.size; j++){\n              //TOP WALL\n              if(i === 0){\n                if(j === 0){\n                  data[j][i] = this.TOPLEFTCORNER;\n                }else if(j === this.size -1){\n                  data[i][j] = this.BOTTOMLEFTCORNER;\n                }else{\n                  data[i][j] = this.LEFTWALL;\n                }\n              }else if(i === this.size -1){\n                if(j === 0){\n                  data[i][j] = this.TOPRIGHTCORNER;\n                }else if(j === this.size -1){\n                  data[i][j] = this.BOTTOMRIGHTCORNER;\n                }else{\n                  data[i][j] = this.RIGHTWALL;\n                }\n              }else{\n                if(j === 0){\n                  data[i][j] = this.TOPWALL;\n                }else if(j === this.size -1){\n                  data[i][j] = this.BOTTOMWALL;\n                }else{\n                  data[i][j] = this.SAFE;\n                }\n              }\n            }\n          }\n          return data;\n      },\n      loadLevel: function(level){\n        var row = level % 3;\n        var col = Math.floor(level / 3);\n        var data = [];\n        for(var i = 0; i < this.size; i++){\n          data.push([]);\n          for(var j = 0; j < this.size; j++){\n            var x = (row * 10) + i;\n            var y = (col * 10) + j;\n            data[i][j] = this.tilemap.getTile(x,y,0).index;\n          }\n        }\n        return data;\n      }\n  };\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].DungeonGenerator = DungeonGenerator;\n}());\n","(function(){\n  'use strict';\n\n  function Grave(main, x, y){\n    Phaser.Sprite.call(this, main.game, x, y, 'grave');\n    this.anchor.setTo(0.5, 0.5);\n    this.animations.add('die', null, 10, false);    \n  }\n\n  Grave.prototype = Object.create(Phaser.Sprite.prototype);\n  Grave.prototype.constructor = Grave;\n\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].Grave = Grave;\n}());\n","(function(){\n  'use strict';\n\n  var LEFT = 2,\n      RIGHT = 0,\n      DOWN = 1,\n      UP = 3;\n\n\n  var RED = 0xff0000,\n      PINK = 0xff69b4,\n      CYAN = 0x00ffff,\n      ORANGE = 0xff0500;\n\n  var types = [\n    'shadow',\n    'speedy',\n    'bashful',\n    'pokey'\n  ];\n\n  var ns = window['pacdungeon'];\n  function MonsterAI(main, x, y, type){    \n    Phaser.Sprite.call(this, main.game, x, y, 'ghost');\n    this.debug = true;\n    this.main = main;\n    this.killCount = 0;\n    this.speed = this.main.speed * 0.90;\n    this.type = type || types[Math.floor(Math.random() * 4)];\n    this.directions = [ null, null, null, null, null ];\n    switch(this.type){\n      case 'shadow':\n        this.tint = RED;\n        break;\n      case 'speedy':\n        this.tint = PINK;\n        break;\n      case 'bashful':\n        this.tint = CYAN;\n        break;\n      case 'pokey':\n        this.tint = ORANGE;\n        break;\n    }\n\n    this.animations.add('munch', [0, 1, 2, 3], 20, true);\n    this.animations.play('munch');\n\n    this.ghostEyes = new Phaser.Sprite(main.game, 0,0,'ghost-eyes');\n    this.ghostEyes.frame = UP;\n    this.ghostEyes.anchor.set(0.5);\n    this.addChild(this.ghostEyes);\n\n    this.marker = new Phaser.Point(0,0);\n    this.forwardMarker = new Phaser.Point(0,0);\n\n    this.current = Phaser.DOWN;\n    this.nextDirection = Phaser.NONE;\n    this.turnPoint = new Phaser.Point();\n    this.futurePoint = new Phaser.Point();\n    this.threshold = 3;\n\n    this.targetFound = false;\n\n    this.strategy = new ns.AIStrategy(main.pacman, this, main.safetile, main.opposites);\n    this.strategy.setStrategy(this.type);\n\n    this.changeDirection = false;\n  }\n\n  MonsterAI.prototype = Object.create(Phaser.Sprite.prototype);\n  MonsterAI.prototype.constructor = MonsterAI;\n\n  MonsterAI.prototype.move = function(direction){\n    var speed = this.speed;\n\n    if (direction === Phaser.LEFT || direction === Phaser.UP)\n    {\n        speed = -speed;\n    }\n\n    if (direction === Phaser.LEFT || direction === Phaser.RIGHT)\n    {\n        this.body.velocity.x = speed;\n    }\n    else\n    {\n        this.body.velocity.y = speed;\n    }\n\n    //set the eyes\n    if(direction === Phaser.UP){\n      this.ghostEyes.frame = UP;\n    }else if(direction === Phaser.DOWN){\n      this.ghostEyes.frame = DOWN;\n    }else if(direction === Phaser.LEFT){\n      this.ghostEyes.frame = LEFT;\n    }else if(direction === Phaser.RIGHT){\n      this.ghostEyes.frame = RIGHT;\n    }\n\n    this.current = direction;\n  };\n\n  /**\n  TODO: Use this to add nemesis system or something\n  */\n  MonsterAI.prototype.addKill = function(i){\n    this.killCount += i;\n  };\n\n  MonsterAI.prototype.getForward = function(marker){\n    if(this.current === Phaser.RIGHT){\n      marker.x += 1;\n    }else if(this.current === Phaser.LEFT){\n      marker.x -= 1;\n    }else if(this.current === Phaser.UP){\n      marker.y -= 1;\n    }else if(this.current === Phaser.DOWN){\n      marker.y += 1;\n    }\n    return marker;\n  };\n\n  MonsterAI.prototype.feelForward = function(){\n    this.marker.x = this.main.game.math.snapToFloor(Math.floor(this.x), this.main.gridsize) / this.main.gridsize;\n    this.marker.y = this.main.game.math.snapToFloor(Math.floor(this.y), this.main.gridsize) / this.main.gridsize;\n\n    //move marker forward (see forward)\n    this.forwardMarker = this.getForward(new Phaser.Point(this.marker.x, this.marker.y));\n\n    if(this.marker.x < 0 || this.marker.y < 0){\n      return;\n    }\n    this.futurePoint.x = (this.forwardMarker.x * this.gridsize) + (this.gridsize / 2);\n    this.futurePoint.y = (this.forwardMarker.y * this.gridsize) + (this.gridsize / 2);\n    this.turnPoint.x = (this.forwardMarker.x * this.gridsize) + (this.gridsize / 2);\n    this.turnPoint.y = (this.forwardMarker.y * this.gridsize) + (this.gridsize / 2);\n\n    //  Update our grid sensors\n    this.directions[0] = this.main.map.getTile(this.forwardMarker.x, this.forwardMarker.y, this.main.layer.index);\n    this.directions[1] = this.main.map.getTileLeft(this.main.layer.index, this.forwardMarker.x, this.forwardMarker.y);\n    this.directions[2] = this.main.map.getTileRight(this.main.layer.index, this.forwardMarker.x, this.forwardMarker.y);\n    this.directions[3] = this.main.map.getTileAbove(this.main.layer.index, this.forwardMarker.x, this.forwardMarker.y);\n    this.directions[4] = this.main.map.getTileBelow(this.main.layer.index, this.forwardMarker.x, this.forwardMarker.y);\n\n    //calculate next direction\n    this.nextDirection = this.strategy.getNextDirection(this.directions, this.current);\n\n    this.targetFound = true;\n  };\n\n  MonsterAI.prototype.turn = function(){\n\n    // Grid align before turning\n    this.x = this.turnPoint.x;\n    this.y = this.turnPoint.y;\n\n    this.body.reset(this.turnPoint.x, this.turnPoint.y);\n  };\n\n  MonsterAI.prototype.reachedGoal = function(){\n    var cx = Math.floor(this.x);\n    var cy = Math.floor(this.y);\n\n    //if current position is almost equal to the turnpoint\n    if(this.main.math.fuzzyEqual(cx, this.turnPoint.x, this.threshold) &&\n      this.main.math.fuzzyEqual(cy, this.turnPoint.y, this.threshold)){\n        return true;\n      }\n    return false;\n  };\n\n  MonsterAI.prototype.update = function(){\n    //look for next direction if you don't have any\n    if(!this.targetFound){\n      this.feelForward();\n      this.move(this.current);\n    }\n\n    if(this.reachedGoal()){\n      //if you reached the goal, move to next goal based on nextDirection\n      this.targetFound = false;\n      this.turn();\n      this.current = this.nextDirection;\n    }\n  };\n\n  MonsterAI.prototype.render = function(){\n    if(this.debug){\n      for (var t = 0; t < 5; t++)\n      {\n          if (this.directions[t] === null)\n          {\n              continue;\n          }\n\n          var color = 'rgba(0,255,0,0.3)';\n\n          if (this.directions[t].index !== this.main.safetile)\n          {\n              color = 'rgba(255,0,0,0.3)';\n          }\n\n          if (t === this.current)\n          {\n              color = 'rgba(255,255,255,0.3)';\n          }\n\n          this.game.debug.geom(new Phaser.Rectangle(this.directions[t].worldX, this.directions[t].worldY,\n           this.gridsize, this.gridsize), color, true);\n      }\n      // this.game.debug.geom(new Phaser.Line())\n      this.game.debug.geom(new Phaser.Circle(this.turnPoint.x, this.turnPoint.y, 5), 'rgba(255,0,0,1)');\n      // this.game.debug.geom(new Phaser.Circle(this.futurePoint.x, this.futurePoint.y, 5), 'rgba(0,255,0,1)');\n      this.game.debug.geom(new Phaser.Circle(this.x, this.y, 5), 'rgba(0,0,0,1)');\n      this.game.debug.geom(new Phaser.Circle(this.marker.x, this.marker.y, 5), 'rgba(0,255,0,1)');\n      // this.game.debug.geom(new Phaser.Rectangle(this.body.x, this.body.y, this.body.width, this.body.height), 0xffffff, true);\n      this.game.debug.body(this);\n    }\n  };\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].MonsterAI = MonsterAI;\n}());\n","(function(){\n  'use strict';\n\n  function Pacman(main, x, y){\n    Phaser.Sprite.call(this, main.game, x, y, 'pacman');\n\n    this.debug = true;\n\n    this.main = main;\n\n    this.speed = 100;\n    this.threshold = 10;\n\n    this.marker = new Phaser.Point();\n    this.turnPoint = new Phaser.Point();\n\n    this.current = Phaser.NONE;\n    this.turning = Phaser.NONE;\n\n    this.directions = [null, null, null, null, null];\n\n    this.previousTarget = null;\n\n    this.animations.add('munch', [0, 1, 2, 1], 20, true);\n    this.animations.add('idle', [1], 20, true);\n    this.play('munch');\n  }\n\n  Pacman.prototype = Object.create(Phaser.Sprite.prototype);\n  Pacman.prototype.constructor = Pacman;\n\n  Pacman.prototype.gotoLimbo = function(){\n    this.angle = 0;\n    this.x = -100;\n    this.body.velocity.x = 0;\n    this.body.velocity.y = 0;\n    this.inLimbo = true;\n  };\n  Pacman.prototype.resurrect = function(){\n    this.inLimbo = false;\n  };\n\n  Pacman.prototype.getGridPosition = function(){\n    return this.main.toGridPosition(this.x, this.y);\n  };\n\n  Pacman.prototype.getForwardPosition = function(howFar){\n    var marker = this.getGridPosition();\n    if(this.current === Phaser.LEFT){\n      marker.x -= howFar;\n    }else if(this.current === Phaser.RIGHT){\n      marker.x += howFar;\n    }else if(this.current === Phaser.UP){\n      marker.y -= howFar;\n    }else if(this.current === Phaser.DOWN){\n      marker.y += howFar;\n    }\n\n    return marker;\n  };\n\n  Pacman.prototype.move = function(direction){\n    var speed = this.speed;\n\n    if (direction === Phaser.LEFT || direction === Phaser.UP) {\n      speed = -speed;\n    }\n\n    if (direction === Phaser.LEFT || direction === Phaser.RIGHT) {\n      this.body.velocity.x = speed;\n    } else {\n      this.body.velocity.y = speed;\n    }\n\n    //  Reset the scale and angle (Pacman is facing to the right in the sprite sheet)\n    this.scale.x = 1;\n    this.angle = 0;\n\n    if (direction === Phaser.LEFT) {\n      this.scale.x = -1;\n    } else if (direction === Phaser.UP) {\n      this.angle = 270;\n    } else if (direction === Phaser.DOWN) {\n      this.angle = 90;\n    }\n\n    this.current = direction;\n  };\n\n  Pacman.prototype.turn = function(){\n    var cx = Math.floor(this.x);\n    var cy = Math.floor(this.y);\n\n    //  This needs a threshold, because at high speeds you can't turn because the coordinates skip past\n    if (!this.main.math.fuzzyEqual(cx, this.turnPoint.x, this.threshold) ||\n        !this.main.math.fuzzyEqual(cy, this.turnPoint.y, this.threshold)) {\n      return false;\n    }\n\n    //  Grid align before turning\n    this.x = this.turnPoint.x;\n    this.y = this.turnPoint.y;\n\n    this.body.reset(this.turnPoint.x, this.turnPoint.y);\n\n    this.move(this.turning);\n\n    this.turning = Phaser.NONE;\n\n    return true;\n\n  };\n\n\n  Pacman.prototype.checkDirection = function(turnTo){\n    if (this.turning === turnTo || this.directions[turnTo] === null || this.directions[turnTo].index !== this.main.safetile) {\n      //  Invalid direction if they're already set to turn that way\n      //  Or there is no tile there, or the tile isn't index 1 (a floor tile)\n      return;\n    }\n\n    //  Check if they want to turn around and can\n    if (this.current === this.main.opposites[turnTo]) {\n      this.move(turnTo);\n    } else {\n      this.turning = turnTo;\n\n      this.turnPoint.x = (this.marker.x * this.main.gridsize) + (this.main.gridsize / 2);\n      this.turnPoint.y = (this.marker.y * this.main.gridsize) + (this.main.gridsize / 2);\n    }\n  };\n\n  Pacman.prototype.update = function(){\n\n\n  };\n\n  Pacman.prototype.render = function(){\n    if(this.debug){\n      for (var t = 1; t < 5; t++)\n      {\n          if (this.directions[t] === null)\n          {\n              continue;\n          }\n\n          var color = 'rgba(0,255,0,0.3)';\n\n          if (this.directions[t].index !== this.main.safetile)\n          {\n              color = 'rgba(255,0,0,0.3)';\n              // console.log('Tile is: ', this.directions[t].index);\n          }\n\n          if (t === this.current)\n          {\n              color = 'rgba(255,255,255,0.3)';\n          }\n          this.main.game.debug.body(this);\n          // this.main.game.debug.geom(new Phaser.Rectangle(this.directions[t].worldX, this.directions[t].worldY, this.main.gridsize, this.main.gridsize), color, true);\n      }\n    }\n  };\n\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].Pacman = Pacman;\n}());\n","(function () {\n  'use strict';\n\n  function Boot() {}\n\n  Boot.prototype = {\n\n    preload: function () {\n      this.load.image('preloader', 'assets/preloader.gif');      \n    },\n\n    create: function () {\n      this.game.input.maxPointers = 1;\n\n      if (this.game.device.desktop) {\n        this.game.scale.pageAlignHorizontally = true;\n      } else {\n        this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n        this.game.scale.minWidth =  480;\n        this.game.scale.minHeight = 260;\n        this.game.scale.maxWidth = 640;\n        this.game.scale.maxHeight = 480;\n        this.game.scale.forceOrientation(true);\n        this.game.scale.pageAlignHorizontally = true;\n        this.game.scale.setScreenSize(true);\n      }\n      this.game.state.start('preloader');\n    }\n  };\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].Boot = Boot;\n\n}());\n","(function() {\n  'use strict';\n\n  var ns = window['pacdungeon'];\n  var that;\n\n  function Game() {\n    that = this;\n    this.livesLeft = 3;\n    this.offset = new Phaser.Point(-30,-30);\n    this.map = null;\n    this.layers = [];\n    this.layer = null;\n    this.ghostLayer = null;\n    this.pacman = null;\n    this.resurrectTimer = 0;\n    this.resurrectPoint = new Phaser.Point(0,0);\n    this.resurrectCell = new Phaser.Point(0,0);\n    this.monsters = null;\n    this.graves = null;\n    this.safetile = 14;\n    this.gridsize = 16;\n\n    this.scoreTxt = null;\n    this.livesGroup = null;\n\n    this.speed = 100;\n    this.size = 10;\n    this.squareSize = 3;\n\n    this.DungeonGenerator = null;\n    this.cells = [\n      [null, null, null],\n      [null, null, null],\n      [null, null, null],\n    ];\n    this.timerContainer = null;\n\n    this.opposites = [Phaser.NONE, Phaser.RIGHT, Phaser.LEFT, Phaser.DOWN, Phaser.UP];\n\n    this.score = 0;\n    this.teleportZone = new Phaser.Point(0, 0);\n    this.activeZone = new Phaser.Point(0, 0);\n    //flag if pacman jumped and hasn't moved yet\n    this.isFreshJump = false;\n\n    this.graphics = null;\n\n    this.teleportEmitter = null;\n    this.appearEmitter = null;\n    this.shakeWorld = 0;\n\n    this.c1 = new Phaser.Point();\n    this.c2 = new Phaser.Point();\n  }\n\n  Game.prototype = {\n\n    create: function() {\n      this.game.world.setBounds(this.offset.x, this.offset.y, this.game.width, this.game.height); // normalize after shake?\n\n      this.stage.backgroundColor = '#2d2d2d';\n\n      this.map = this.add.tilemap();\n      this.map.addTilesetImage('tiles', 'tiles', 16, 16, 0, 0, 1);\n      this.layer = this.map.create('main', this.size * 4, this.size * 4, 16, 16);\n      this.ghostLayer = this.map.createBlankLayer('ghostLayer', this.size * 4, this.size * 4, 16, 16);\n\n      this.timerContainer = this.add.group();\n\n      this.graves = this.add.group();\n\n      var levelTilemap = this.game.add.tilemap('levels');\n      this.DungeonGenerator = new ns.DungeonGenerator(this.size, levelTilemap);\n\n      var i = 0, j = 0;\n      for (i = 0; i < this.squareSize; i++) {\n        for (j = 0; j < this.squareSize; j++) {\n          var level = this.DungeonGenerator.loadLevel(0);\n          var cellData = this.createCellData(i, j, level);\n          this.cells[i][j] = new ns.Cell(i,j,cellData, this.timerContainer, this);\n        }\n      }\n\n      this.timerContainer = this.add.group();\n\n      this.createGhostPrison();\n      this.ghostLayer.visible = false;\n      this.map.setLayer(this.layer);\n\n      this.dots = this.add.physicsGroup();\n      this.map.createFromTiles(7, this.safetile, 'dot', this.layer, this.dots);\n\n      //  The dots will need to be offset by 6px to put them back in the middle of the grid\n      this.dots.setAll('x', 6, false, false, 1);\n      this.dots.setAll('y', 6, false, false, 1);\n\n      //add dots to Cells\n      var setDotPosition = function(cell){\n        return function(d){\n          var gPosition = this.toGridPosition(d.x, d.y);\n          var cPosition = this.toCellPosition(gPosition.x, gPosition.y);\n          if(cell.x === cPosition.x && cell.y === cPosition.y){\n            cell.dots.push(d);\n          }\n        };\n      };\n      for(i = 0; i < this.cells.length; i++){\n        for(j = 0; j < this.cells[i].length; j++){\n          var cell = this.cells[j][i];\n          this.dots.forEach(setDotPosition(cell), this);\n        }\n      }\n\n      //  Pacman should collide with everything except the safe tile\n      this.map.setCollisionByExclusion([this.safetile], true, this.layer);\n      // Ghosts should collide with the ghost layer\n      this.map.setCollisionByExclusion([this.safetile], true, this.ghostLayer);\n\n      this.graphics = this.add.graphics(0, 0);\n\n      this.monsters = this.add.group();\n\n      this.createPacman((this.squareSize * 16) + 8, (this.squareSize * 16) + 8);\n\n      this.livesGroup = this.add.group();\n      this.updateLives();\n\n      //spawn 2 monsters\n      this.spawnMonsters(['shadow', 'speedy']);\n\n      //create 3 graves\n      for(i = 0; i < 3; i++){\n        var grave = new ns.Grave(this, i*30, 160*3);\n        grave.kill();\n        this.graves.add(grave);\n      }\n\n      this.physics.arcade.enable(this.pacman);\n      this.pacman.body.setSize(16, 16, 0, 0);\n      // this.jumpToSquare(0, 0);\n      this.pacman.gotoLimbo();\n\n      this.cursors = this.input.keyboard.createCursorKeys();\n\n      this.input.keyboard.onUpCallback = function(event) {\n        if(that.pacman.inLimbo){\n          //Do the selection screen\n          that.moveLimbo(event);\n        }else{\n          if (event.keyCode === Phaser.Keyboard.SPACEBAR) {\n            that.teleport();\n          } else if (event.keyCode === Phaser.Keyboard.UP) {\n            that.updateTeleportZone(Phaser.UP);\n          } else if (event.keyCode === Phaser.Keyboard.DOWN) {\n            that.updateTeleportZone(Phaser.DOWN);\n          } else if (event.keyCode === Phaser.Keyboard.LEFT) {\n            that.updateTeleportZone(Phaser.LEFT);\n          } else if (event.keyCode === Phaser.Keyboard.RIGHT) {\n            that.updateTeleportZone(Phaser.RIGHT);\n          } else if (event.keyCode === Phaser.Keyboard.Z){\n            that.toggleDebug();\n          }\n        }\n\n      };\n\n      this.pacman.move(Phaser.LEFT);\n\n      this.teleportEmitter = this.add.emitter();\n      this.appearEmitter = this.add.emitter();\n      var initEmitter = function(emitter) {\n        emitter.makeParticles('pacman', [0, 1, 2]);\n        emitter.maxParticleScale = 0.1;\n        emitter.minParticleScale = 0.01;\n        emitter.width = 20;\n        emitter.setYSpeed(-20, -100);\n        emitter.setXSpeed(-5, 5);\n        emitter.gravity = -200;\n      };\n\n      initEmitter(this.teleportEmitter);\n      initEmitter(this.appearEmitter);\n      this.appearEmitter.setYSpeed(100, -20);\n      this.appearEmitter.gravity = 200;\n\n      this.scoreTxt = this.add.bitmapText(0, 0, 'minecraftia', '0' );\n      this.scoreTxt.align = 'left';\n      this.scoreTxt.x = 0;\n      this.scoreTxt.y = -40;\n    },\n\n    updateLives: function(){\n      //remove all sprites\n      this.livesGroup.removeAll();\n      for(var i = 0; i < this.livesLeft; i++){\n        var spr = new ns.Pacman(this, i*30, 160*3);\n        spr.play('idle');\n        this.livesGroup.add(spr);\n      }\n    },\n\n    moveLimbo: function(event){\n      if (event.keyCode === Phaser.Keyboard.SPACEBAR) {\n        //resurrect here\n        that.resurrect();\n      } else if (event.keyCode === Phaser.Keyboard.UP) {\n        that.updateResurrectZone(Phaser.UP);\n      } else if (event.keyCode === Phaser.Keyboard.DOWN) {\n        that.updateResurrectZone(Phaser.DOWN);\n      } else if (event.keyCode === Phaser.Keyboard.LEFT) {\n        that.updateResurrectZone(Phaser.LEFT);\n      } else if (event.keyCode === Phaser.Keyboard.RIGHT) {\n        that.updateResurrectZone(Phaser.RIGHT);\n      } else if (event.keyCode === Phaser.Keyboard.Z){\n        that.toggleDebug();\n      }\n    },\n\n    createDot: function(){\n      var dot = this.add.sprite(0,0,'dot',this.dots);\n      this.dots.add(dot);\n      return dot;\n    },\n\n    createCellData: function(row, col, level) {\n      for (var i = 0; i < this.size; i++) {\n        for (var j = 0; j < this.size; j++) {\n          this.map.putTile(level[j][i], (row * this.size) + j, (col * this.size) + i, this.layer);\n        }\n      }\n      return level;\n    },\n\n    createGhostPrison: function(){\n      var width = this.size * 3;\n      var height = this.size * 3;\n      for(var i = 0; i < width; i++){\n        this.map.putTile(this.DungeonGenerator.TOPWALL, i, 0, this.ghostLayer);\n        this.map.putTile(this.DungeonGenerator.BOTTOMWALL, i, height-1, this.ghostLayer);\n      }\n      for(var j = 0; j < height; j++){\n        this.map.putTile(this.DungeonGenerator.RIGHTWALL, 0, j, this.ghostLayer);\n        this.map.putTile(this.DungeonGenerator.LEFTWALL, width-1, j, this.ghostLayer);\n      }\n    },\n\n    pickRandomSquare: function() {\n      var row = Math.floor(Math.random() * (this.squareSize));\n      var col = Math.floor(Math.random() * (this.squareSize));\n      return {\n        row: row,\n        col: col\n      };\n    },\n\n    resurrect: function(){\n      this.livesLeft -= 1;\n      this.updateLives();\n      this.moveToSquare(this.resurrectCell.x, this.resurrectCell.y);\n      var targetPosition = this.toWorldPosition(this.resurrectCell.x, this.resurrectCell.y, this.resurrectPoint.x, this.resurrectPoint.y);\n      this.pacman.x = targetPosition.x;\n      this.pacman.y = targetPosition.y;\n      this.pacman.resurrect();\n    },\n\n    teleport: function() {\n      this.teleportEmitter.x = this.pacman.x;\n      this.teleportEmitter.y = this.pacman.y;\n      this.teleportEmitter.start(true, 250, null, 20);\n      this.jumpToSquare(this.teleportZone.x, this.teleportZone.y);\n      this.appearEmitter.x = this.pacman.x;\n      this.appearEmitter.y = this.pacman.y - 15;\n      this.appearEmitter.start(true, 250, null, 20);\n    },\n\n    createPacman: function(x, y) {\n      this.pacman = new ns.Pacman(this, x, y);\n      this.game.add.existing(this.pacman);\n    },\n\n    spawnMonsters: function(types) {\n      for (var i = 0; i < types.length; i++) {\n        //pick random col and row\n        var pos = this.pickRandomSquare();\n        var p = this.toWorldPosition(pos.row, pos.col, 6, 7);\n        this.createMonster(p.x, p.y, types[i]);\n      }\n    },\n\n    createMonster: function(x, y, type) {\n      var monster = new ns.MonsterAI(this, x, y, type);\n      monster.player = this.pacman;\n      monster.layer = this.layer;\n      monster.gridsize = this.gridsize;\n      monster.map = this.map;\n      this.physics.arcade.enable(monster);\n      //add it to the group immediately\n      monster.body.setSize(16, 16, 0, 0);\n      monster.anchor.set(0.5);\n      monster.move(Phaser.DOWN);\n      this.monsters.add(monster);\n\n      return monster;\n    },\n\n    toWorldPosition: function(cellRow, cellCol, row, col) {\n      //+8 is the offset\n      return new Phaser.Point(\n        (16 * (row)) + 8 + (cellRow * this.size * this.gridsize), (16 * (col)) + 8 + (cellCol * this.size * this.gridsize)\n      );\n    },\n\n    toGridPosition: function(x,y){\n      var marker = new Phaser.Point();\n      marker.x = this.math.snapToFloor(Math.floor(x), this.gridsize) / this.gridsize;\n      marker.y = this.math.snapToFloor(Math.floor(y), this.gridsize) / this.gridsize;\n      return marker;\n    },\n\n    toCellPosition: function(gridX, gridY){\n      var marker = new Phaser.Point();\n      marker.x =Math.floor(gridX / this.size);\n      marker.y = Math.floor(gridY / this.size);\n      return marker;\n    },\n\n\n    getJumpTargetPosition: function() {\n      var marker = this.pacman.getGridPosition();\n      var targetPosition = this.toWorldPosition(this.teleportZone.x, this.teleportZone.y, marker.x % 10, marker.y % 10);\n      var targetGridPosition = this.toGridPosition(targetPosition.x, targetPosition.y);\n      //target position is not clear,\n      //something\n      var tile = this.map.getTile(targetGridPosition.x, targetGridPosition.y, 0);\n      if(tile.index !== this.safetile && this.pacman.previousTarget){\n        targetPosition = this.pacman.previousTarget;\n      }else{\n        this.pacman.previousTarget = targetPosition;\n      }\n      return targetPosition;\n    },\n\n    jumpToSquare: function(row, col){\n      //  Position Pacman at grid location 14x17 (the +8 accounts for his anchor)\n      var targetPosition = this.getJumpTargetPosition();\n      this.pacman.x = targetPosition.x;\n      this.pacman.y = targetPosition.y;\n\n      this.moveToSquare(row, col);\n    },\n\n    moveToSquare: function(row, col) {\n      this.teleportZone.x = this.activeZone.x;\n      this.teleportZone.y = this.activeZone.y;\n      this.activeZone.x = row;\n      this.activeZone.y = col;\n      this.isFreshJump = true;\n\n      this.pacman.anchor.set(0.5);\n\n      // this.move(this.turning);\n      //move to square based on angle\n      this.pacman.current = Phaser.NONE;\n\n    },\n\n    checkKeys: function() {\n\n      if (this.cursors.left.isDown && this.pacman.current !== Phaser.LEFT) {\n        this.pacman.checkDirection(Phaser.LEFT);\n      } else if (this.cursors.right.isDown && this.pacman.current !== Phaser.RIGHT) {\n        this.pacman.checkDirection(Phaser.RIGHT);\n      } else if (this.cursors.up.isDown && this.pacman.current !== Phaser.UP) {\n        this.pacman.checkDirection(Phaser.UP);\n      } else if (this.cursors.down.isDown && this.pacman.current !== Phaser.DOWN) {\n        this.pacman.checkDirection(Phaser.DOWN);\n      } else {\n        //  This forces them to hold the key down to turn the corner\n        this.pacman.turning = Phaser.NONE;\n      }\n\n    },\n\n    updateResurrectPoint: function(){\n      this.resurrectTimer++;\n      var moveToNextTile = function(){\n        this.resurrectPoint.x++;\n        if(this.resurrectPoint.x > 8){\n          this.resurrectPoint.x = 1;\n          this.resurrectPoint.y++;\n          if(this.resurrectPoint.y > 8){\n            this.resurrectPoint.x = 1;\n            this.resurrectPoint.y = 1;\n          }\n        }\n\n        //check if resurrect point is dead\n        var targetGridPosition = new Phaser.Point((this.resurrectCell.x*this.size)+this.resurrectPoint.x,\n          (this.resurrectCell.y*this.size)+this.resurrectPoint.y);\n        var tile = this.map.getTile(targetGridPosition.x, targetGridPosition.y, 0);\n        if(tile.index !== this.safetile){\n          moveToNextTile.call(this);\n        }\n      };\n      if(this.resurrectTimer > 5){\n        this.resurrectTimer = 0;\n        //move to next tile\n        moveToNextTile.call(this);\n      }\n    },\n\n    updateResurrectZone: function(direction){\n      var next = new Phaser.Point(this.resurrectCell.x, this.resurrectCell.y);\n      console.log('Updating resurrect zone');\n      if(direction === Phaser.LEFT){\n        next.x--;\n      } else if(direction === Phaser.RIGHT){\n        next.x++;\n      } else if(direction === Phaser.UP){\n        next.y--;\n      } else if(direction === Phaser.DOWN){\n        next.y++;\n      }\n\n      if(next.x > 2){\n        next.x = 2;\n      }else if(next.x < 0){\n        next.x = 0;\n      }\n\n      if(next.y > 2){\n        next.y = 2;\n      }else if(next.y < 0){\n        next.y = 0;\n      }\n      this.resurrectCell.x = next.x;\n      this.resurrectCell.y = next.y;\n    },\n\n    updateTeleportZone: function(direction) {\n      //if freshjump, the next zone should be relative to the active zone\n      if (this.isFreshJump) {\n        this.teleportZone.x = this.activeZone.x;\n        this.teleportZone.y = this.activeZone.y;\n        this.isFreshJump = false;\n      }\n\n      var next = new Phaser.Point(this.teleportZone.x, this.teleportZone.y);\n\n      //if direction lands you on the same active cell, try the one next to it\n      var tryNextCell = function(n, effect){\n        if(Phaser.Point.equals(n, this.activeZone)){\n          return effect;\n        }\n        return 0;\n      };\n      if (direction === Phaser.LEFT) {\n        next.x--;\n        next.x += tryNextCell.call(this,next,-1);\n      } else if (direction === Phaser.RIGHT) {\n        next.x++;\n        next.x += tryNextCell.call(this, next, 1);\n      } else if (direction === Phaser.DOWN) {\n        next.y++;\n        next.y += tryNextCell.call(this, next, 1);\n      } else if (direction === Phaser.UP) {\n        next.y--;\n        next.y += tryNextCell.call(this, next, -1);\n      }\n\n      //\n      var prevZone = new Phaser.Point(this.teleportZone.x, this.teleportZone.y);\n      this.teleportZone.copyFrom(next);\n\n      this.clipTeleportZone();\n\n      if (this.teleportZone.x === this.activeZone.x &&\n        this.teleportZone.y === this.activeZone.y) {\n        this.teleportZone.x = prevZone.x;\n        this.teleportZone.y = prevZone.y;\n      }\n\n      this.clipTeleportZone();\n    },\n\n    clipTeleportZone: function() {\n      if (this.teleportZone.x < 0) {\n        this.teleportZone.x = 0;\n      } else if (this.teleportZone.x > this.squareSize - 1) {\n        this.teleportZone.x = this.squareSize - 1;\n      }\n\n      if (this.teleportZone.y < 0) {\n        this.teleportZone.y = 0;\n      } else if (this.teleportZone.y > this.squareSize - 1) {\n        this.teleportZone.y = this.squareSize - 1;\n      }\n    },\n\n    eatDot: function(pacman, dot) {\n\n      dot.kill();\n\n      this.score += 10;\n      this.scoreTxt.text = this.score;\n\n      //get dots in this area\n      this.isCellCleared(dot);\n    },\n\n    isCellCleared: function(dot){\n      var position = this.toGridPosition(dot.x, dot.y);\n      var cellPosition = this.toCellPosition(position.x, position.y);\n      this.cells[cellPosition.x][cellPosition.y].isCleared();\n    },\n\n    touchMonsters: function(pacman, monster) {\n      if(!this.pacman.inLimbo){\n        monster.addKill(1);\n        //put a grave here\n        var grave = this.graves.getFirstDead();\n        grave.revive();\n        grave.play('die').setFrame(0);\n        grave.x = pacman.x;\n        grave.y = pacman.y;\n        //pacman is in limbo\n        pacman.gotoLimbo();\n        this.graphics.clear();\n        this.resurrectCell.x = this.activeZone.x;\n        this.resurrectCell.y = this.activeZone.y;\n        this.resurrectPoint.x = 1;\n        this.resurrectPoint.y = 1;\n      }\n    },\n\n    doShakeScreen: function(){\n      this.shakeWorld = 30;\n    },\n\n    shakeScreen: function() {\n      if (this.shakeWorld > 0) {\n        var rand1 = this.rnd.integerInRange(this.offset.x-5, this.offset.x+5);\n        var rand2 = this.rnd.integerInRange(this.offset.y-5, this.offset.y+5);\n        this.game.world.setBounds(rand1, rand2, this.game.width + rand1, this.game.height + rand2);\n        this.shakeWorld--;\n        if (this.shakeWorld === 0) {\n          this.game.world.setBounds(this.offset.x, this.offset.y, this.game.width, this.game.height); // normalize after shake?\n        }\n      }\n    },\n\n    drawTeleportPath: function() {\n      // set a fill and line style again\n      this.graphics.clear();\n      this.graphics.lineStyle(1, 0xFF0000, 0.8);\n\n      // draw a second shape\n      var targetPosition = this.getJumpTargetPosition();\n      this.graphics.moveTo(this.pacman.x, this.pacman.y);\n      //calculate control points\n      this.c1.x = this.pacman.x;\n      this.c1.y = this.pacman.y - 15;\n      this.c2.x = targetPosition.x;\n      this.c2.y = targetPosition.y - 15;\n\n      if (this.pacman.y > targetPosition.y) {\n        this.c1.y = targetPosition.y;\n      } else if (this.pacman.y === targetPosition.y) {\n        this.c1.y -= 30;\n        this.c2.y -= 30;\n      } else {\n        this.c2.y = this.pacman.y;\n      }\n      this.graphics.bezierCurveTo(this.c1.x, this.c1.y, this.c2.x, this.c2.y, targetPosition.x, targetPosition.y);\n    },\n\n    update: function(game) {\n      this.physics.arcade.collide(this.monsters, this.ghostLayer);\n      this.physics.arcade.collide(this.pacman, this.layer);\n      this.physics.arcade.overlap(this.pacman, this.dots, this.eatDot, null, this);\n      if(this.pacman.alive){\n        this.physics.arcade.overlap(this.pacman, this.monsters, this.touchMonsters, null, this);\n      }\n\n      this.pacman.marker = this.pacman.getGridPosition();\n\n      if(this.pacman.inLimbo){\n        //move resurrect point\n        this.updateResurrectPoint();\n      }\n\n      if (this.pacman.marker.x < 0 || this.pacman.marker.y < 0) {\n        return;\n      }\n      //  Update our grid sensors\n      var index = this.map.getLayer(this.layer);\n      this.pacman.directions[1] = this.map.getTileLeft(index, this.pacman.marker.x, this.pacman.marker.y);\n      this.pacman.directions[2] = this.map.getTileRight(index, this.pacman.marker.x, this.pacman.marker.y);\n      this.pacman.directions[3] = this.map.getTileAbove(index, this.pacman.marker.x, this.pacman.marker.y);\n      this.pacman.directions[4] = this.map.getTileBelow(index, this.pacman.marker.x, this.pacman.marker.y);\n\n      this.checkKeys();\n\n      if (this.pacman.turning !== Phaser.NONE) {\n        this.pacman.turn();\n      }\n\n      for(var i = 0; i < this.cells.length; i++){\n        for(var j = 0; j < this.cells[i].length; j++){\n          this.cells[i][j].update(game.time);\n        }\n      }\n\n\n      this.drawTeleportPath();\n\n      this.shakeScreen();\n    },\n    render: function() {\n      this.monsters.callAll('render');\n      this.pacman.render();\n\n      if(this.pacman.inLimbo){\n        var pos = this.toWorldPosition(this.resurrectCell.x, this.resurrectCell.y, this.resurrectPoint.x, this.resurrectPoint.y);\n        this.game.debug.geom(new Phaser.Rectangle(pos.x-(this.gridsize/2), pos.y-(this.gridsize/2),\n         this.gridsize, this.gridsize), 'rgba(120,120,120,0.5)', true);\n      }\n\n    },\n    toggleDebug: function(){\n      this.monsters.forEach(function(m){\n        m.debug = !m.debug;\n      });\n      this.pacman.debug = !this.pacman.debug;\n      this.game.debug.reset();\n    }\n\n  };\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].Game = Game;\n\n}());\n","window.onload = function () {\n  'use strict';\n\n  var game\n    , ns = window['pacdungeon'];\n\n  game = new Phaser.Game(640, 640, Phaser.AUTO, 'pacdungeon-game');\n  game.state.add('boot', ns.Boot);\n  game.state.add('preloader', ns.Preloader);\n  game.state.add('menu', ns.Menu);\n  game.state.add('game', ns.Game);\n  /* yo phaser:state new-state-files-put-here */\n\n  game.state.start('boot');\n};\n","(function() {\n  'use strict';\n\n  function Menu() {\n    this.titleTxt = null;\n    this.startTxt = null;\n  }\n\n  Menu.prototype = {\n\n    create: function () {\n      var x = this.game.width / 2\n        , y = this.game.height / 2;\n\n\n      this.titleTxt = this.add.bitmapText(x, y, 'minecraftia', 'Yo, Pacman with a Teleporter!' );\n      this.titleTxt.align = 'center';\n      this.titleTxt.x = this.game.width / 2 - this.titleTxt.textWidth / 2;\n      //\n      y = y + this.titleTxt.height + 5;\n      this.startTxt = this.add.bitmapText(x, y, 'minecraftia', 'START');\n      this.startTxt.align = 'center';\n      this.startTxt.x = this.game.width / 2 - this.startTxt.textWidth / 2;\n\n      this.input.onDown.add(this.onDown, this);\n    },\n\n    update: function () {\n\n    },\n\n    onDown: function () {\n      var tween = this.game.add.tween(this.titleTxt);\n      tween.to({x: -900}, 300);\n\n\n      tween.onComplete.addOnce(function(){\n        this.game.state.start('game');\n      }, this);\n\n      tween.start();\n    }\n  };\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].Menu = Menu;\n\n}());\n","(function() {\n  'use strict';\n\n  function Preloader() {\n    this.asset = null;\n    this.ready = false;\n  }\n\n  Preloader.prototype = {\n\n    preload: function () {\n      this.asset = this.add.sprite(this.game.width * 0.5 - 110, this.game.height * 0.5 - 10, 'preloader');\n\n      this.load.onLoadComplete.addOnce(this.onLoadComplete, this);\n      this.load.setPreloadSprite(this.asset);\n\n      this.loadResources();\n    },\n\n    loadResources: function () {\n      this.load.bitmapFont('minecraftia', 'assets/minecraftia.png', 'assets/minecraftia.xml');\n      this.load.spritesheet('ghost', 'assets/ghosts.png', 32, 32);\n      this.load.spritesheet('ghost-eyes', 'assets/ghost-eyes.png', 32, 32);\n      this.load.image('dot', 'assets/dot.png');\n      this.load.image('tiles', 'assets/pacman-tiles.png');\n      this.load.spritesheet('pacman', 'assets/pacman.png', 32, 32);\n      this.load.spritesheet('grave', 'assets/grave.png', 32, 32);\n      this.load.tilemap('map', 'assets/pacman-small.json', null, Phaser.Tilemap.TILED_JSON);\n      this.load.tilemap('levels', 'assets/pacman-maze.json', null, Phaser.Tilemap.TILED_JSON);\n    },\n\n    create: function () {\n      this.asset.cropEnabled = false;\n    },\n\n    update: function () {\n      if (!!this.ready) {\n        this.game.state.start('menu');\n      }\n    },\n\n    onLoadComplete: function () {\n      this.ready = true;\n    }\n  };\n\n  window['pacdungeon'] = window['pacdungeon'] || {};\n  window['pacdungeon'].Preloader = Preloader;\n\n}());\n"],"sourceRoot":"/source/"}